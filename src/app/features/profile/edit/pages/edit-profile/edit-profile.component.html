<h1 class="page-header mb-2">Profil bearbeiten</h1>

<p class="mb-4">Hier kannst du dein Profil bearbeiten.</p>

<h2 class="my-4 text-2xl">Profilbild</h2>

<div class="edit-profile-image">
  <div class="profile-image">
    <img
      [src]="croppedImage ? croppedImage : profileService.getProfileImageSrc()"
      alt="Profile Image"
    />
  </div>

  <button class="btn-upload" (click)="fileInput.click()" mat-stroked-button>
    Neues Profilbild hochladen
  </button>

  <!-- Hidden input -->
  <input
    #fileInput
    (change)="fileChangeEvent($event)"
    accept="image/*"
    hidden
    type="file"
  />

  <div class="image-cropper-container" *ngIf="imageChangedEvent">
    <image-cropper
      (imageCropped)="imageCropped($event)"
      [aspectRatio]="4 / 4"
      [imageChangedEvent]="imageChangedEvent"
      [maintainAspectRatio]="true"
      [roundCropper]="false"
      format="png"
    ></image-cropper>
  </div>
</div>

<h2 class="my-4 text-2xl">Pers√∂nliche Infos</h2>

<app-personal-data-form
  [formGroup]="profileForm.controls.personalData"
></app-personal-data-form>

<h2 class="my-4 text-2xl">Eigene Tanzerfahrung</h2>

<app-dance-experience-form
  [formGroup]="profileForm.controls.ownDances"
  danceFormType="own"
>
</app-dance-experience-form>

<h2 class="my-4 text-2xl">Tanzerfahrung des Partners</h2>

<app-dance-experience-form
  [formGroup]="profileForm.controls.partnerDances"
  danceFormType="partner"
>
</app-dance-experience-form>

<mat-error *ngIf="error">
  <span> {{ error | errorMessage }} </span>
</mat-error>

<button
  (click)="saveProfile()"
  class="big-button"
  color="primary"
  mat-flat-button
>
  Speichern
</button>
